<!DOCTYPE html>
<html lang="en">
  <head>
    
  </head>
  <body>
    <div id="greeting-div">
    	
    </div>

    <script src="https://fb.me/react-15.0.0.js"></script>
    <script src="https://fb.me/react-dom-15.0.0.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.34/browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/babel">
      var Greeting = React.createClass({
		 getInitialState: function(){
		 		return{
		 			lstData: [],
		 		}
		 },

		 componentDidMount: function(){
			 document.title = "Home page";
			 var desc = "lst of states" ;
			 $('head').append( '<meta name="description" content="'+ desc +'">' );
			
            $.ajax({
                  method  : 'GET',
                  url     : "http://50.116.5.169/api/v1/allarticles/?l=en",
                  
                  success: function(res) {
                      this.setState({lstData:res})
                  }.bind(this),

                  error: function(e) {
                      console.log("error",e.statusText);
                  }
              })
        },

        saveid: function(id , title){
        	localStorage['linkId'] = id ;
        },

        render: function() {
	        var lstData = this.state.lstData.map(function(i,index){
	        	var title = i.title ;
	        	var id = i.id ;

	        	return(
	        			<a href={"/first.html"} key={id} id={id}><li onClick={this.saveid.bind(this,id , title)} >{title}</li></a>
	        		);
	        },this)

	          return (
	          <div>
	            <h1>This is Home Page</h1>
	            {lstData}
	            </div>
	          )
        }
      });

      ReactDOM.render(
        <Greeting/>,
        document.getElementById('greeting-div')
      );
    </script>
  </body>
</html>